<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初级 | 前端面试题大全</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/Web-Frontend-Interview/assets/logo.png">
    <meta name="description" content="Web Frontend developer Interview questions">
    <link rel="preload" href="/Web-Frontend-Interview/assets/css/0.styles.63f20ba1.css" as="style"><link rel="preload" href="/Web-Frontend-Interview/assets/js/app.3a8b5672.js" as="script"><link rel="preload" href="/Web-Frontend-Interview/assets/js/2.59e11008.js" as="script"><link rel="preload" href="/Web-Frontend-Interview/assets/js/13.2ab03189.js" as="script"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/10.c40aff47.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/11.54c9ec71.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/12.31ebad10.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/14.63c17a9d.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/15.29b3beca.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/16.2f7b09c4.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/17.98e8c432.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/18.4df5574c.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/19.801614a8.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/20.76ec5978.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/21.43380b5f.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/22.e436a9fc.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/23.09bc0da3.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/24.41d1b177.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/25.56f15dce.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/26.cac62f35.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/27.89c6d14a.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/28.db86921c.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/29.a98fc1e2.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/3.61cbdb14.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/30.ffe41290.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/31.15473021.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/32.28d7ba29.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/33.50e1c6f7.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/34.aa9092e1.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/35.414bd980.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/36.48aa131f.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/37.c37358a6.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/4.775f1fd7.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/5.8005fb8e.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/6.7aca95c6.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/7.4d531cf4.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/8.46a511e5.js"><link rel="prefetch" href="/Web-Frontend-Interview/assets/js/9.3a0ada7e.js">
    <link rel="stylesheet" href="/Web-Frontend-Interview/assets/css/0.styles.63f20ba1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Web-Frontend-Interview/" class="home-link router-link-active"><!----> <span class="site-name">前端面试题大全</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Web-Frontend-Interview/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/html/primary.html" class="nav-link">
  Html
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/css/primary.html" class="nav-link">
  Css
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/javascript/primary.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/browser/primary.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  浏览器
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/vue/primary.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/react/primary.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/arithmetic/primary.html" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/design-mode/primary.html" class="nav-link">
  设计模式
</a></div> <a href="https://github.com/MuRongXiaoDouBi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Web-Frontend-Interview/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/html/primary.html" class="nav-link">
  Html
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/css/primary.html" class="nav-link">
  Css
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/javascript/primary.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/browser/primary.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  浏览器
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/vue/primary.html" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/react/primary.html" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/arithmetic/primary.html" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/Web-Frontend-Interview/design-mode/primary.html" class="nav-link">
  设计模式
</a></div> <a href="https://github.com/MuRongXiaoDouBi" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Web-Frontend-Interview/browser/primary.html" aria-current="page" class="active sidebar-link">初级</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#一、什么是跨域？" class="sidebar-link">一、什么是跨域？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#二、你知道的解决跨域的方式有几种？" class="sidebar-link">二、你知道的解决跨域的方式有几种？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#三、cookie和session分别是什么？有什么不同？" class="sidebar-link">三、cookie和session分别是什么？有什么不同？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#四、cookie和session有什么不同？" class="sidebar-link">四、cookie和session有什么不同？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#五、为什么需要cookie和session？" class="sidebar-link">五、为什么需要cookie和session？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#六、如果浏览器禁止了cookie怎么办？" class="sidebar-link">六、如果浏览器禁止了cookie怎么办？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#七、使用cookie有哪些注意点？" class="sidebar-link">七、使用cookie有哪些注意点？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#八、前后端实现登录的方式有哪些？" class="sidebar-link">八、前后端实现登录的方式有哪些？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#九、浏览器实现本地存储的方式有哪几种？" class="sidebar-link">九、浏览器实现本地存储的方式有哪几种？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十、了解service-worker嘛？" class="sidebar-link">十、了解Service Worker嘛？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十一、谈谈对浏览器缓存的理解？" class="sidebar-link">十一、谈谈对浏览器缓存的理解？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十二、从哪些地方可以读取到浏览器缓存？" class="sidebar-link">十二、从哪些地方可以读取到浏览器缓存？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十三、什么是浏览器缓存策略？" class="sidebar-link">十三、什么是浏览器缓存策略？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十四、浏览器缓存适用的应用场景有哪些？" class="sidebar-link">十四、浏览器缓存适用的应用场景有哪些？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十五、什么是xss？" class="sidebar-link">十五、什么是XSS？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十六、如何防范xss？" class="sidebar-link">十六、如何防范XSS？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十七、什么是csrf？" class="sidebar-link">十七、什么是CSRF？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十八、如何防范csrf？" class="sidebar-link">十八、如何防范CSRF？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#十九、什么是中间人攻击？" class="sidebar-link">十九、什么是中间人攻击？</a></li><li class="sidebar-sub-header"><a href="/Web-Frontend-Interview/browser/primary.html#二十、如果防范中间人攻击？" class="sidebar-link">二十、如果防范中间人攻击？</a></li></ul></li><li><a href="/Web-Frontend-Interview/browser/medium.html" class="sidebar-link">中级</a></li><li><a href="/Web-Frontend-Interview/browser/difficulty.html" class="sidebar-link">困难</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#一、什么是跨域？">一、什么是跨域？</a></li><li><a href="#二、你知道的解决跨域的方式有几种？">二、你知道的解决跨域的方式有几种？</a></li><li><a href="#三、cookie和session分别是什么？有什么不同？">三、cookie和session分别是什么？有什么不同？</a></li><li><a href="#四、cookie和session有什么不同？">四、cookie和session有什么不同？</a></li><li><a href="#五、为什么需要cookie和session？">五、为什么需要cookie和session？</a></li><li><a href="#六、如果浏览器禁止了cookie怎么办？">六、如果浏览器禁止了cookie怎么办？</a></li><li><a href="#七、使用cookie有哪些注意点？">七、使用cookie有哪些注意点？</a></li><li><a href="#八、前后端实现登录的方式有哪些？">八、前后端实现登录的方式有哪些？</a></li><li><a href="#九、浏览器实现本地存储的方式有哪几种？">九、浏览器实现本地存储的方式有哪几种？</a></li><li><a href="#十、了解service-worker嘛？">十、了解Service Worker嘛？</a></li><li><a href="#十一、谈谈对浏览器缓存的理解？">十一、谈谈对浏览器缓存的理解？</a></li><li><a href="#十二、从哪些地方可以读取到浏览器缓存？">十二、从哪些地方可以读取到浏览器缓存？</a></li><li><a href="#十三、什么是浏览器缓存策略？">十三、什么是浏览器缓存策略？</a></li><li><a href="#十四、浏览器缓存适用的应用场景有哪些？">十四、浏览器缓存适用的应用场景有哪些？</a></li><li><a href="#十五、什么是xss？">十五、什么是XSS？</a></li><li><a href="#十六、如何防范xss？">十六、如何防范XSS？</a></li><li><a href="#十七、什么是csrf？">十七、什么是CSRF？</a></li><li><a href="#十八、如何防范csrf？">十八、如何防范CSRF？</a></li><li><a href="#十九、什么是中间人攻击？">十九、什么是中间人攻击？</a></li><li><a href="#二十、如果防范中间人攻击？">二十、如果防范中间人攻击？</a></li></ul></div><p></p> <h2 id="一、什么是跨域？"><a href="#一、什么是跨域？" class="header-anchor">#</a> 一、什么是跨域？</h2> <p>也就浏览器的同源策略，出于安全的考虑，只要是协议、域名、端口有一个不同就算是跨域，ajax请求就会失败。浏览器有同源策略主要是为了防止CSRF攻击，防止利用户的登录状态发起恶意请求。</p> <h2 id="二、你知道的解决跨域的方式有几种？"><a href="#二、你知道的解决跨域的方式有几种？" class="header-anchor">#</a> 二、你知道的解决跨域的方式有几种？</h2> <ul><li><code>JSONP</code> ： 利用 <code>script</code> 标签不受同源策略限制，具体可以参考<a href="https://juejin.im/post/6844903790760427528" target="_blank" rel="noopener noreferrer">40行封装一个jsonp包<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li> <li><code>CORS</code> ：使用自定义的 <code>HTTP头部</code> 让浏览器和服务器进行沟通，实现 <code>CORS</code> 的关键是后端，服务端设置 <code>Access-Control-Allow-Origin</code> 就可以开启，表示哪些域名可以访问资源。</li> <li><code>document.domain</code> ：当二级域名相同时，例如 <code>a.test.html</code> 和 <code>b.test.html</code> ，只需要给两个页面都设置 <code>document.domain = 'test.html'</code> ，就可以实现跨域。</li> <li><code>postMessage</code> ：如 <code>a.html</code> 页面通过 <code>iframe</code> 嵌入了 <code>b.html</code> 页面，其中一个可以通过 <code>postMessage</code> 方法发送信息，另一页面通过监听 <code>message</code> 事件判断来源并接受消息。</li></ul> <h2 id="三、cookie和session分别是什么？有什么不同？"><a href="#三、cookie和session分别是什么？有什么不同？" class="header-anchor">#</a> 三、cookie和session分别是什么？有什么不同？</h2> <ul><li><code>cookie</code> 是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器发起请求时被携带并发送到服务器，它通常是告知服务端两个请求是否来自同一浏览器，保持用户的登录状态。</li> <li><code>session</code> 代表着服务器在和客户端一次会话的过程，存储着用户会话所需的属性及配置信息，当用户在不同页面之间跳转时，使整个用户会话一直存在。</li></ul> <h2 id="四、cookie和session有什么不同？"><a href="#四、cookie和session有什么不同？" class="header-anchor">#</a> 四、cookie和session有什么不同？</h2> <ul><li>作用范围不同：<code>cookie</code> 存储在客户端，<code>session</code> 保存在服务器端。</li> <li>存取的方式不同：<code>cookie</code> 只能保存 <code>ASCⅡ</code>，<code>session</code> 可以存取任意数据类型。</li> <li>有效期不同：<code>cookie</code> 可设置长时间保持，<code>session</code> 一般失效时间较短，或客户端关闭就会失效。</li> <li>存储大小不同：单个 <code>cookie</code> 保存的数据不能超过 <code>4k</code> ，<code>session</code> 可存储数据远高于 <code>cookie</code>。</li></ul> <h2 id="五、为什么需要cookie和session？"><a href="#五、为什么需要cookie和session？" class="header-anchor">#</a> 五、为什么需要cookie和session？</h2> <p>让服务器知道根它打交道的用户是谁以及用户的状态，浏览器发起第一次请求后服务端会返回一个 <code>sessionID</code> 存储到 <code>cookie</code> 中，当再次发起请求时服务端根据携带的 <code>cookie</code> 里的 <code>sessionID</code> 来查找对应的 <code>session</code> 信息，没有找到就说明没登录或登录失效，找到说明已经登录，可以进行之后的操作。</p> <h2 id="六、如果浏览器禁止了cookie怎么办？"><a href="#六、如果浏览器禁止了cookie怎么办？" class="header-anchor">#</a> 六、如果浏览器禁止了cookie怎么办？</h2> <p>每次请求都携带一个 <code>SessionID</code> 的参数；或者使用 <code>token</code> 令牌，登录后服务端生成一个 <code>Token</code> 返回给客户端，以后客户端携带 <code>token</code> 进行数据请求。</p> <h2 id="七、使用cookie有哪些注意点？"><a href="#七、使用cookie有哪些注意点？" class="header-anchor">#</a> 七、使用cookie有哪些注意点？</h2> <p>不建议作为存储方式使用。首先会随请求携带，影响请求的性能，其次存储空间也太小，最后一些属性的使用也需要注意。<br> <code>value</code>：如果作用于登录状态，需要加密。<br> <code>http-only</code>：不能通过 <code>JavaScript</code> 访问到 <code>cookie</code> ，防止 <code>XSS</code> 攻击。<br> <code>same-site</code>：不能在跨域请求中携带 <code>cookie</code>，防止 <code>CSRF</code> 攻击。</p> <h2 id="八、前后端实现登录的方式有哪些？"><a href="#八、前后端实现登录的方式有哪些？" class="header-anchor">#</a> 八、前后端实现登录的方式有哪些？</h2> <ul><li><code>cookie + session</code>：前端登录后，后端会种一个 <code>httpOnly</code> 的 <code>cookie</code> 在前端，里面就有这个用户对应的 <code>sessionId</code> ，以后每一次前端发起请求会携带上这个 <code>cookie</code> ，后端从里面解析到 <code>sessionId</code> 后找到对应的 <code>session</code> 信息，就知道是谁再操作了。缺点是后端需要空间存储 <code>session</code> ，用户多了，服务器多了都不方便，这种方式基本属于淘汰边缘。</li> <li><code>jwt + token</code>：前端登录后，后端会返回一个包括用户信息加密的 <code>token</code> 字符串(可能还有过期时间，手机端有设备唯一码等信息)，客户端自己保存了，将这个 <code>token</code> 设置到 <code>header</code> 里的 <code>Authorization</code> ，之后每次请求都带上，服务器解码这个 <code>token</code> 之后就知道是谁在访问了。优点是不占存储空间，后端解码即可。</li></ul> <h2 id="九、浏览器实现本地存储的方式有哪几种？"><a href="#九、浏览器实现本地存储的方式有哪几种？" class="header-anchor">#</a> 九、浏览器实现本地存储的方式有哪几种？</h2> <ul><li><code>cookie</code>：存储大小 <code>4kb</code> ，会随请求发送到服务端，可设置过期时间。</li> <li><code>localStorage</code>：存储大小为 <code>5M</code> ，不参与请求，除非被清理，否则一直存在。</li> <li><code>sessionStorage</code>：存储大小为 <code>5M</code> ，不参与请求，页面关闭清除。</li> <li><code>indexDB</code>：存储大小没限制，不参与请求，除非被清理，否则一直存在，运行在浏览器上的非关系型数据库。</li></ul> <h2 id="十、了解service-worker嘛？"><a href="#十、了解service-worker嘛？" class="header-anchor">#</a> 十、了解Service Worker嘛？</h2> <p>是运行在浏览器背后的独立线程，可用于实现缓存功能，传输协议必须是 <code>HTTPS</code>。<br>
使用 <code>Service-Worker</code> 实现缓存功能一般分为三个步骤：首先注册，然后监听 <code>install</code> 事件缓存需要的文件，最后拦截请求事件，如果缓存中已经有请求的数据就直接使用。</p> <h2 id="十一、谈谈对浏览器缓存的理解？"><a href="#十一、谈谈对浏览器缓存的理解？" class="header-anchor">#</a> 十一、谈谈对浏览器缓存的理解？</h2> <p>浏览器缓存是性能优化中最简单高效的一种，可以显著的减少网络传输所带来损耗，降低服务端压力。对于一个请求来说，可以分为发起网络请求、后端处理、浏览器响应三个步骤。浏览器缓存就可以做到直接使用缓存而不发起请求，或者发起了请求但后端存储的数据和缓存是一致的，就没必要传回来。</p> <h2 id="十二、从哪些地方可以读取到浏览器缓存？"><a href="#十二、从哪些地方可以读取到浏览器缓存？" class="header-anchor">#</a> 十二、从哪些地方可以读取到浏览器缓存？</h2> <p>浏览器缓存会从四个位置去读取，并且它们是有优先级的，会依次去查找，最后都没有找到才会去发起请求。</p> <ul><li><code>Service Worker</code> ：和浏览器其他内建缓存机制不同，它可以让我们自由控制缓存哪些文件、如何匹配缓存、如何读取缓存且缓存是持续性的。</li> <li><code>Memory Cache</code> ：从内存中读取，速度快，不过缓存的持续性并不高，关闭页面后内存中的缓存会被释放，什么东西能进内存确定不了。</li> <li><code>Disk Cache</code> ：速度没有内存快，不过存储的容量和持续性会高很多，在浏览器缓存中硬盘的覆盖面是最大的。可以根据 <code>HTTP Header</code> 中的字段判断哪些资源需要缓存，哪些可以不请求直接使用，哪些已过期需要重新请求。并且即使在跨站点的情况下，相同地址的资源一旦被硬盘缓存下来，就不会再次去请求数据。</li> <li><code>Push Cache</code> ：是 <code>HTTP/2</code> 中的内容，存储时间很短暂，只在会话中，一旦会话结束就被释放。</li></ul> <h2 id="十三、什么是浏览器缓存策略？"><a href="#十三、什么是浏览器缓存策略？" class="header-anchor">#</a> 十三、什么是浏览器缓存策略？</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>缓存策略分为两种：<strong>强缓存和协商缓存</strong>，都是通过设置 <code>HTTP-Header</code> 来实现的，在强缓存没有命中之后才会尝试协商缓存。</p></div> <ul><li>强缓存：通过设置 <code>HTTP-Header</code> 的 <code>Expires</code> 和 <code>Cache-Control</code> 实现。强缓存表示在缓存期间不需要发起请求，状态码为 <code>200</code>。
<ul><li><code>Expires</code> ：是 <code>HTTP/1</code> 的产物，值为缓存的过期时间，如果资源过期了就需要再次发起请求，如果修改本地时间，可能会造成缓存失效。</li> <li><code>Cache-control</code> ：出现于 <code>HTTP/1.1</code> ，如果和 <code>Expires</code> 同时设置，优先级会更高。可以在请求头或者响应头中设置，可以组合多种指令使用。</li></ul></li></ul> <p><img src="https://user-gold-cdn.xitu.io/2019/11/8/16e469b8664f04aa?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p> <ul><li>协商缓存：通过设置 <code>HTTP-Header</code> 的 <code>Last-Modified</code> 和 <code>ETag</code> 实现。如果缓存过期了，就需要发起请求验证资源是否有更新。如果发起请求验证资源没有改变，返回状态304，并且更新浏览器缓存的有效期。
<ul><li><p><code>Last-Modified</code> 和 <code>If-Modified-Since</code> ：</p> <ul><li><code>Last-Modified</code> 表示本地文件最后修改日期</li> <li><code>If-Modified-Since</code> 会将 <code>Last-Modified</code> 的值发送给服务器，询问该日期之后的资源是否有更新，有就将新资源发送来，没有返回 <code>304</code> 状态码。</li></ul></li> <li><p><code>Last-Modified</code> 的弊端：</p> <ol><li>如果本地硬盘打开了缓存文件，即使没修改也会被误认为已经修改了，从而导致服务器不能准确命中缓存，导致发送相同的内容；</li> <li>只能以秒计时，如果在不可感知的时间内修改完成文件，服务端会认为资源还是命中了，不会返回正确的资源。</li></ol></li> <li><p><code>ETag</code> 和 <code>If-None-Match</code>：为了解决 <code>Last-Modified</code> 的弊端，<code>ETag</code> 出现于 <code>HTTP/1.1</code> ，他的优先级比 <code>Last-Modified</code> 高。 <code>ETag</code> 类似于文件的指纹， <code>If-None-Match</code> 会将 <code>ETag</code> 发送给服务器，询问该 <code>ETag</code> 是否变动，有变动的话就将新的资源发送回来。</p></li></ul></li></ul> <h2 id="十四、浏览器缓存适用的应用场景有哪些？"><a href="#十四、浏览器缓存适用的应用场景有哪些？" class="header-anchor">#</a> 十四、浏览器缓存适用的应用场景有哪些？</h2> <ul><li>频繁变动的资源：首先设置 <code>Cache-Control:no-cache</code> ，使浏览器每次都请求服务器，然后配合 <code>ETag</code> 或 <code>Last-Modified</code> 来验证资源是否有效，虽然请求数量没少，不过能显著减少响应的数据大小。</li> <li>不频繁变动的资源：一般使用打包工具会为生成的 <code>js、css</code> 等文件最后加上哈希值，只有当代码修改后才会生成新的文件名。所以我们可以给这些文件设置 <code>Cache-Control:max-age=31536000</code> 为一年的有效期，文件名变更了就下载新的文件，否则一直使用缓存。</li></ul> <h2 id="十五、什么是xss？"><a href="#十五、什么是xss？" class="header-anchor">#</a> 十五、什么是XSS？</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>就是攻击者通过页面注入可执行的代码，例如评论的留言里。XSS的类型分为两种：<strong>持久型和非持久型</strong>。</p></div> <ul><li>持久性：将攻击的代码通过服务端写入到数据库中，例如通过评论提交的评论里面是一段脚本，如果没做好防范就会提交到数据库里，可能导致其他用户会执行这段代码，会到攻击。</li> <li>非持久性：一般是通过修改 <code>URL</code> 参数的方式加入攻击代码，从而诱导用户访问链接从而进行攻击。</li></ul> <h2 id="十六、如何防范xss？"><a href="#十六、如何防范xss？" class="header-anchor">#</a> 十六、如何防范XSS？</h2> <ul><li>转义字符：将用户输入的内容，如引号、尖括号、斜杠进行转义；</li> <li>采用白名单过滤标签和标签属性，例如过滤script标签；</li> <li>使用 <code>CSP</code> 告诉浏览器限制外部资源可以加载和执行，开启 <code>CSP</code> 有两种方式：
<ol><li>设置 <code>HTTP-Header</code> 中的 <code>Content-sesurity-Policy</code> 。</li> <li>设置 <code>&lt;meta&gt;</code> 标签的方式 <code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot;&gt;</code>。</li></ol></li></ul> <h2 id="十七、什么是csrf？"><a href="#十七、什么是csrf？" class="header-anchor">#</a> 十七、什么是CSRF？</h2> <p>中文的意思是跨站请求伪造。原理是攻击者构造出一个后端请求地址，诱导用户去点击发起请求。如果是登陆状态，服务端就会以为是用户在操作，从而进行相应的逻辑。</p> <h2 id="十八、如何防范csrf？"><a href="#十八、如何防范csrf？" class="header-anchor">#</a> 十八、如何防范CSRF？</h2> <p>不让 <code>get</code> 请求对数据进行修改；不让第三方网站访问到用户的 <code>cookie</code>，设置 <code>cookie</code> 的 <code>SameSite</code> 属性，不让 <code>cookie</code> 随跨域请求携带；组织第三方网站请求接口，验证 <code>Referer</code> ； <code>Token</code> 验证，登陆后服务器下发一个随机 <code>token</code> ，之后的请求带上。</p> <h2 id="十九、什么是中间人攻击？"><a href="#十九、什么是中间人攻击？" class="header-anchor">#</a> 十九、什么是中间人攻击？</h2> <p>就是在攻击者在服务端和客户端建立了连接，并让对方认为连接是安全的，攻击者不仅能获得双方的通信信息，还能修改通信信息。</p> <h2 id="二十、如果防范中间人攻击？"><a href="#二十、如果防范中间人攻击？" class="header-anchor">#</a> 二十、如果防范中间人攻击？</h2> <p>不要使用公共 <code>wifi</code> ；只使用 <code>https</code> 协议，并关闭 <code>http</code> 的访问。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/5/2020, 4:08:01 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Web-Frontend-Interview/browser/medium.html">
        中级
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/Web-Frontend-Interview/assets/js/app.3a8b5672.js" defer></script><script src="/Web-Frontend-Interview/assets/js/2.59e11008.js" defer></script><script src="/Web-Frontend-Interview/assets/js/13.2ab03189.js" defer></script>
  </body>
</html>
